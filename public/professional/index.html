<!DOCTYPE html>

<html>
    <head>
        <base href="../" />
        <link rel="shortcut icon" type="image/x-icon" href="./img/nh-cursive-icon.png" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

        <!-- Page properties -->
        <title>Professional Development - Nick Hernandez</title>

        <!-- Opengraph properties, for giving a site preview if the link is posted anywhere. Makes the link look less sketchy. -->
        <meta property="og:title" content="Professional Development - Nick Hernandez" />
        <meta property="og:description" content="My professional development pages" />
        <meta property="og:type" content="website" />
        <meta property="og:image" content="https://nickhz.live/img/multidisciplinary-engineer.png" />
        <meta property="og:image:alt" content="Nicolas Hernandez, multidisciplinary engineer" />
        <meta property="og:url" content="https://nickhz.live/professional/" />
        <meta property="og:site_name" content="The Personal Site of Nick Hernandez" />

        <!-- Style properties -->
        <link href="css/style.css" rel="stylesheet" />
        <link href="css/professional-index.css" rel="stylesheet" />
    </head>
    <body>
        <main class="flower">
            <div class="centered">
                Professional Development
            </div>
            
            <div class="petal">
                <div class="stem"></div>
                <a class="leaf">
                    <div class="centered">
                        <!-- Skills Tracker -->
                    </div>
                </a>
            </div>

            <div class="petal">
                <div class="stem"></div>
                <a class="leaf">
                    <div class="centered">
                        <!-- Self-Education -->
                    </div>
                </a>
            </div>

            <div class="petal">
                <div class="stem"></div>
                <a href="./" class="leaf">
                    <div class="centered">
                        &lt; Back Home
                    </div>
                </a>
            </div>

            <div class="petal">
                <div class="stem"></div>
                <a class="leaf">
                    <div class="centered">
                        
                    </div>
                </a>
            </div>

            <div class="petal">
                <div class="stem"></div>
                <a class="leaf">
                    <div class="centered">
                        
                    </div>
                </a>
            </div>

            <div class="petal">
                <div class="stem"></div>
                <a href="professional/resume" class="leaf">
                    <div class="centered">
                        My Resume
                    </div>
                </a>
            </div>
        </main>

        <footer id="flower-field">
            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>

            <div class="flower">
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
                <div class="petal"><div class="stem"></div><div class="leaf"></div></div>
            </div>
        </footer>

        <script>
            const frutigerMetroClouds = () => {
                // effect config
                const config = {
                    spawnerYPercentage:
                        {
                            min: 60, // percent from bottom
                            max: 100 // percent from bottom
                        }
                    ,
                    spawnerSpawnRate: 0.1, // per second spawner spawns
                    spawnerVelocity: 200, // px/s
                    spawnerSpawnRadius: 75, // px from spawn
                    circleSpawnRate: 10, // per second circle spawns
                    circleLifetime: 2000, // ms until circle shrinks to 0
                    circleSize: 200 // px max size
                };

                const effectFrame = document.createElement('div');
                effectFrame.style.pointerEvents = 'none';
                effectFrame.style.zIndex = -2;
                effectFrame.style.overflow = 'visible';
                effectFrame.style.position = 'absolute';
                effectFrame.style.bottom = `${config.spawnerYPercentage.min}%`;
                effectFrame.style.left = 0;
                effectFrame.style.width = '100%';
                effectFrame.style.height = `${config.spawnerYPercentage.max - config.spawnerYPercentage.min}%`;

                document.body.appendChild(effectFrame);

                // spawner spawning
                const spawners = new Array();
                let spawnerSpawnTimeoutId = null;
                const spawnSpawner = () => {
                    const spawner = document.createElement('div');
                    spawner.style.position = 'absolute';
                    spawner.style.bottom = `${Math.random() * 100}%`;

                    effectFrame.appendChild(spawner);
                    spawners.push(
                        {
                            element: spawner,
                            x: -config.spawnerSpawnRadius,
                            lastSpawnTime: performance.now()
                        }
                    );
                    
                    // indicates spawner spawning is no longer in timeout
                    spawnerSpawnTimeoutId = null;
                };

                // circle spawning
                const circles = new Array();
                const spawnCircle = (spawner, now) => {
                    spawner.lastSpawnTime = now;

                    const circle = document.createElement('div');
                    circle.style.position = 'absolute';
                    circle.style.background = 'white';
                    circle.style.border = '1px solid black';
                    circle.style.borderRadius = '50%';
                    circle.style.transform = 'translate(-50%, 50%)';

                    const r = 
                        Math.random() * config.spawnerSpawnRadius
                    ;
                    const theta =
                        Math.random() * 2 * Math.PI
                    ;

                    circle.style.bottom = 
                        `${parseInt(getComputedStyle(spawner.element).bottom) + r * Math.sin(theta)}px`
                    ;
                    circle.style.left = 
                        `${spawner.x + r * Math.cos(theta)}px`
                    ;

                    effectFrame.appendChild(circle);
                    circles.push(
                        {
                            element: circle,
                            radius: 0,
                            spawnTime: now
                        }
                    );
                };

                // motion iteration
                const update = (dt) => {
                    for(let i = 0; i < spawners.length; i++) {
                        const spawner = spawners[i];
                        spawner.x += config.spawnerVelocity * dt / 1000;

                        const now = performance.now();
                        if(spawner.x > document.body.clientWidth + config.spawnerSpawnRadius) {
                            spawner.element.remove();
                            spawners.splice(i, 1);
                            i--;
                        } else {
                            if(now - spawner.lastSpawnTime >= 1000 / config.circleSpawnRate) {
                                spawnCircle(spawner, now);
                            }
                        }
                    }

                    for(let j = 0; j < circles.length; j++) {
                        const circle = circles[j];
                        const t = (performance.now() - circle.spawnTime);

                        const expression = (t-(config.circleLifetime/2.0))/(config.circleLifetime/2.0);

                        if(expression > 1) {
                            circle.element.remove();
                            circles.splice(j, 1);
                            j--;
                        } else {
                            const radius = config.circleSize * Math.sqrt(1 - expression * expression);
                            // console.log(radius);
                            circle.element.style.width = `${radius / 2}px`;
                            circle.element.style.height = `${radius / 2}px`;
                        }
                    }
                }

                let lastFrameTime = performance.now();
                const runFrutigerClouds = (now) => {
                    const delta = now - lastFrameTime;
                    lastFrameTime = now;

                    if(spawnerSpawnTimeoutId === null) {
                        spawnerSpawnTimeoutId = setTimeout(
                            spawnSpawner,
                            1000 * 1 / config.spawnerSpawnRate
                        );
                    }

                    update(delta);
                    requestAnimationFrame(runFrutigerClouds);
                };
                spawnSpawner();
                requestAnimationFrame(runFrutigerClouds);
            };

            frutigerMetroClouds();
        </script>
    </body>
</html>
